:root{
  --bg:#0f0f0f; --surface:#151515; --ink:#ededed; --muted:#a9a9a9; --line:#2a2a2a;
  --ok:#2bd97f; --bad:#ff6b6b; --warn:#f2c94c; --accent:#bfc6ff; --shadow:0 12px 28px rgba(0,0,0,.28);
}
[data-theme="color"]{
  --bg:#0f1320; --surface:#171a2b; --ink:#e7eaf1; --muted:#9aa3b2; --line:#232742;
  --ok:#36d399; --bad:#ff6b6b; --warn:#fbbf24; --accent:#7c91ff; --shadow:0 18px 36px rgba(8,12,32,.45);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.5 system-ui,Segoe UI,Roboto,Arial}
.hidden{display:none!important}
:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:10px}
.container{max-width:1200px;margin:0 auto;padding:16px 20px}
.topbar{position:sticky;top:0;z-index:20;background:linear-gradient(180deg,rgba(0,0,0,.6),rgba(0,0,0,0));backdrop-filter:saturate(140%) blur(6px);padding:8px 20px 10px;margin:0 -20px 10px;border-bottom:1px solid var(--line)}
.row{display:flex;align-items:center;gap:10px;justify-content:space-between}
.brand{font-weight:800}
.pill{display:flex;align-items:center;gap:8px;background:#101010;border:1px solid var(--line);padding:8px 12px;border-radius:12px}
[data-theme="color"] .pill{background:#101428}
select,input[type="number"],input[type="text"]{background:#0e0e0e;color:var(--ink);border:1px solid var(--line);border-radius:8px;padding:6px 8px}
[data-theme="color"] select,[data-theme="color"] input{background:#0b0e18;border-color:#303756}
.btn{height:38px;display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);background:#101010;color:var(--ink);padding:0 12px;border-radius:12px;font-weight:700}
[data-theme="color"] .btn{background:#101428}
.btn:hover{border-color:var(--accent)}
.btn.primary{background:linear-gradient(180deg,var(--accent),#9aa8ff);color:#101010;border-color:transparent}
.card{background:var(--surface);border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow)}
.pad{padding:16px}
.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:10px}
.tag{padding:6px 10px;border-radius:999px;background:#0f0f0f;border:1px solid var(--line);color:var(--muted);font-size:.85rem}
.muted{color:var(--muted)}
.view{display:none;margin:0}
.view.active{display:block;animation:fadeIn .18s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}
.tile{display:flex;flex-direction:column;justify-content:space-between;min-height:110px}
.tablewrap{max-height:65vh;overflow:auto;border-radius:12px}
table{width:100%;border-collapse:collapse}
thead th{position:sticky;top:0;background:#0f0f0f;color:var(--muted);text-align:left;padding:10px;border-bottom:1px solid var(--line);z-index:1}
[data-theme="color"] thead th{background:#11162a}
tbody td{padding:10px;border-bottom:1px solid var(--line)}
.split{display:grid;grid-template-columns:1fr;gap:12px;align-items:start}
.split.with-panel{grid-template-columns:minmax(520px,1fr) 380px}
@media (max-width:1000px){ .split,.split.with-panel{grid-template-columns:1fr} }
#prompt{font-size:clamp(1.4rem,1.2rem + 1.2vw,2.1rem);font-weight:800;margin:6px 0 8px}
#answer{width:100%;font-size:1.15rem;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0e0e0e;color:var(--ink)}
[data-theme="color"] #answer{background:#0b0e18;border-color:#303756}
.accentbar{display:flex;gap:6px;flex-wrap:wrap;margin:8px 0}
.accentbar .btn{height:32px;padding:0 10px}
progress{width:100%;height:10px;border-radius:999px;margin-top:6px}
progress::-webkit-progress-bar{background:#0b0b0b;border-radius:999px}
progress::-webkit-progress-value{background:linear-gradient(90deg,var(--ok),#71e9b7);border-radius:999px}
/* TOUR */
#tour{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:50}
#tour.hidden{display:none!important}
#tour .modal{max-width:680px;width:92%;background:var(--surface);border:1px solid var(--line);border-radius:14px;padding:16px;box-shadow:var(--shadow)}
